!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load=function(e,t){var n={};e.forEach(function(e){var i=new Image;i.src=e.src,i.id=e.id,i.onload=function(){n[e.id]=i,t(n)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.h=100,this.w=100,this.x=100,this.y=t.h/2-50,this.health=2e3,this.shooting={},this.weapon=n,this.world=t,this.image=i,this.velY=0,this.velX=0,this.speed=6,this.friction=.98}return i(e,[{key:"move",value:function(e){"left"===e&&this.velX>-this.speed&&this.velX--,"up"===e&&this.velY>-this.speed&&this.velY--,"right"===e&&this.velX<this.speed&&this.velX++,"down"===e&&this.velY<this.speed&&this.velY++,this.velY*=this.friction,this.velX*=this.friction,this.x=Math.max(Math.min(this.x+this.velX,this.world.w-this.w),0),this.y=Math.max(Math.min(this.y+this.velY,this.world.h-this.h),0)}},{key:"draw",value:function(e){e.font="30px serif",e.fillStyle="#fff",e.fillText("H "+this.health,10,30),e.fillText("R "+(this.weapon.rockets-this.weapon.count),150,30),e.drawImage(this.image,this.x,this.y,this.w,this.h)}},{key:"shoot",value:function(){this.weapon.shoot(this.x+this.w/2,this.y+this.h/2)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(t,n,i,r,s,a,u){o(this,e),this.w=60,this.h=11,this.x=t,this.y=n-this.h/2,this.velocity=6,this.damage=100,this.number=s,this.world=a,this.image=u}return i(e,[{key:"draw",value:function(e,t){this.x+this.w<this.world.w?(e.drawImage(this.image,this.x,this.y,this.w,this.h),this.x+=this.velocity):(new Audio("audio/explosion.wav").play(),t())}}]),e}(),s=function(){function e(t,n){o(this,e),this.shooting={},this.count=0,this.rockets=100,this.world=t,this.image=n}return i(e,[{key:"shoot",value:function(e,t,n,i){if(this.count<this.rockets){var o=new r(e,t,n,i,++this.count,this.world,this.image);this.shooting[this.count]=o}else console.log("out of ammo")}},{key:"destroy",value:function(e){delete this.shooting[e]}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.w=window.innerWidth,this.h=window.innerHeight}return i(e,[{key:"dimensions",value:function(e,t){this.w=e,this.h=t}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.world=t,this.player=n,this.playing=!1}return i(e,[{key:"start",value:function(e,t){console.log("start"),this.playing=!0,this.initialize(t)}},{key:"initialize",value:function(e){var t=this;window.requestAnimationFrame(function n(){t.draw(e),t.playing&&window.requestAnimationFrame(n,canvas)},canvas)}},{key:"draw",value:function(e){var t=this;if(e.clearRect(0,0,this.world.w,this.world.h),this.player.draw(e),Object.keys(this.player.weapon.shooting).length)for(var n in this.player.weapon.shooting)this.player.weapon.shooting[n].draw(e,function(){t.player.weapon.destroy(t.player.weapon.shooting[n].number)});e.save(),e.restore()}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);Object.defineProperty(t,"Game",{enumerable:!0,get:function(){return a(i).default}});var o=n(3);Object.defineProperty(t,"World",{enumerable:!0,get:function(){return a(o).default}});var r=n(2);Object.defineProperty(t,"Weapon",{enumerable:!0,get:function(){return a(r).default}});var s=n(1);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Player",{enumerable:!0,get:function(){return a(s).default}})},function(e,t,n){"use strict";var i=n(5),o=[{id:"spaceship",src:"./images/spaceship.png"},{id:"rocket",src:"./images/rocket.png"}];(0,n(0).load)(o,function(e){if(Object.keys(e).length===o.length){var t=e.spaceship,n=e.rocket,r=document.getElementById("root"),s=document.createElement("canvas"),a=s.getContext("2d"),u=new i.World,h=new i.Weapon(u,n),l=new i.Player(u,h,t),c=new i.Game(u,l);s.id="canvas",s.width=u.w,s.height=u.h,r.prepend(s),document.addEventListener("keydown",function(e){37===e.keyCode&&l.move("left"),38===e.keyCode&&l.move("up"),39===e.keyCode&&l.move("right"),40===e.keyCode&&l.move("down")}),document.addEventListener("keyup",function(e){32===e.keyCode&&l.shoot()}),window.addEventListener("resize",function(e){console.log("rezising"),u.dimensions(window.innerWidth,window.innerHeight),s.width=u.w,s.height=u.h}),c.start(s,a)}})}]);